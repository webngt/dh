# Описания сущностей в слоях информационной архитектуры

В составе корпоративной архитектуры компании, Информационная Архитектура (ИА) является вертикалью, проходящей сквозь и соединяющейся со следующими слоями корпоративной архитектуры:

- Бизнес Архитектурой (БА);
- Прикладной Архитектурой (ПА).

Принцип ведения ИА в составе корпоративной архитектуры.
При ведении ИА в компании, необходимо заполнять все слои ИА для корректности встраивания в корпоративную архитектуру и связанности слоёв внутри информационной архитектуры.
При отсутствии слоя в ИА, он используется как прокси уровень, и заполняется однозначным маппингом с более нижнего уровня (при наличии).
Варианты заполнения прокси уровней:

## Агрегат (слой)

Агрегат обеспечивает разбиение ЛМД на различные области.

### Агрегат (сущность)

Тип объекта Агрегат может принимать следующие значения, согласно мета атрибуту «Уровень агрегации»:

- Проект
- Пакет
- Предметная область
- Домен
- Под-домен
- Модель
- Файл

Сущность агрегат позволяет ссылаться сама на себя, поскольку Агрегат является мета атрибутом объекта Агрегата (мета атрибут «Содержимое»).
Таким образом реализуется любой уровень вложенности и строится иерархия вложенных агрегатов.

Сущность в DocHub: seaf.ia.aggregat

Мета атрибуты|Значения
:------------  | :------------
Код|{{ code }}
Наименование|{{title}}
Описание|{{description}}
Уровень агрегации|{{type}}
Проектировщик (ФИО)|{{owner}}
Владелец (Функциональный блок)|{{unit}}
Комментарий|{{comments}}
Содержимое|array: [{{aggregat}}]

## Бизнес-глоссарий (слой)

Бизнес-глоссарий – перечень бизнес-терминов, используемых в процессах и продуктах компании, обеспечивающий их единообразное понимание.

### Бизнес-термин (сущность)

Бизнес-термин (бизнес-объект)
Понятие, которым оперируют бизнес-процессы компании.
Обеспечивает связь с Бизнес Архитектурой (БА), посредством включения бизнес-терминов в бизнес-процессах.
Варианты включения бизнес-термина в бизнес-процесс.

Бизнес-процесс|Описания взаимодействия процесса и термина (ресурсов)
:------------  | :------------
Поддерживает (supported)|Ресурсы - используются, но не трансформируются, реализуют выполнение чего?-> Процесса
Потребляется (consumes)|Ресурсы - потребляются, расходуются при выполнении чего?-> Процесса
Производит (produces)|отношение Процесс - имеет на выход  что? -> Ресурсы

Сущность в DocHub: seaf.ia.business_objects

Мета атрибуты|Значения
:------------  | :------------
Наименование|{{title}}
Описание|{{description}}
Статус|{{status}}
Дата внесения термина|{{creation_date}}
Дата изменения термина|{{modify_date}}
Ответственный (ФИО)|{{owner}}
Комментарий|{{comments}}
Нормативный/правовой документ|{{legal_doc}}

## Логическая модель данных (слой)

Логическая модель данных – множество понятий (при необходимости расширенных дополнительными атрибутами) и связей между ними, определяющее используемые в компании данные, для которых указываются категории и разделение на предметные области. Обеспечивает связь с Прикладной Архитектурой (ПА):

- на уровне Сервисов;
- на уровне Интеграций.
ЛМД состоит из следующих сущностей:
- логическая сущность (Объект данных);
- атрибут логической сущности;
- логическая связь.

В логической модели сущности из бизнес-глоссария преобразуются в логические сущности или атрибуты логических сущностей.
На логическом уровне модель данных независима от каких-либо технологических ограничений, которые возникают и учитываются на стадии реализации.

## Логическая сущность (сущность)

Логическая сущность (объект-данных)
Логическая сущность является центральной сущностью ИА и обеспечивает:

- связь с ПА на уровне Сервисов, посредством принадлежности Логической сущности к мастер-системе (мета атрибут «Мастер система»);
- связь с ПА на уровне Интеграций между компонентами/автоматизированными системами, посредством указания Логических сущностей в интеграционных потоках;
- распределение всей ИА компании на области, посредством включения в Агрегаты (мета атрибут «Агрегат»);
- связь с Бизнес-глоссарием ИА, посредством ссылок на бизнес-термины (мета атрибут «Бизнес-термины»);
- связь с Физической Моделью ИА, через ссылки из объектов Физических таблиц;

ВНИМАНИЕ: при создании новой Логической сущности обязательно включить её хотя бы в одну Логическую связь.
Объект Логическая сущность может ссылаться только на один объект Агрегат.
Мета атрибут «Категория» заполняется значением из списка:

- Перс данные
- Медицинские данные
- Платежные данные (карты)
- Коммерческая тайна
- Прочее

Сущность в DocHub: seaf.ia.data_objects

Мета атрибуты|Значения
:------------  | :------------
Код|{{code}}
Наименование|{{title}}
Описание|{{description}}
Статус|{{status}}
Агрегат|{{aggregat}}
Категория|{{category}}
Наличие персональных данных|{{pdn_flag}}
Наличие критических данных|{{cde_flag}}
Мастер система|{{master_system}}
Комментарии|{{comments}}
Бизнес-термины|array: [{{business_objects}}]

## Логический атрибут (сущность)

Логический атрибут является дочерним объектом по отношению к объекту Логической сущности.
Служит для расширения свойств Логической сущности при моделировании ЛМ.
При создании объекта Атрибут логической сущности, в мета атрибуте «Логическая сущность», обязательно указывается ссылка на родительский объект Логическая сущность.
Логический атрибут имеет однозначную прямую связь с бизнес уровнем ИА, через мета атрибут «Бизнес-термин», посредством ссылки на конкретный бизнес-термин.

Сущность в DocHub: seaf.ia.logical_attributes

Мета атрибуты|Значения
:------------  | :------------
Код|{{code}}
Наименование|{{title}}
Статус|{{status}}
Описание|{{description}}
Наличие персональных данных|{{pdn_flag}}
Наличие критических данных|{{cde_flag}}
Логическая сущность|{{data_object}}
Бизнес-термин|{{business_object}}

### Логическая связь (сущность)

Логическая связь обеспечивает связь между двумя Логическими сущностями.
Для создания объекта Логическая связь всегда необходимы два различных объекта Логическая сущность, для каждой из которых должен быть определен мета атрибут «Множественность».
«Множественность А» определяет сколько объектов А, могут быть связаны с одним объектом В. Записывается в виде N:M, где:

- N – (целое число >= 0) минимальное возможное количество связанных объектов А, для одного объекта В. "N" всегда принимает конкретное целочисленное значение.;
- М – (целое число >= N) максимальное возможное количество связанных объектов А, для одного объекта В. "M" может принимать конкретное целочисленное значение или оставаться переменной.

Пример:
Объект Логическая связь AddressClient. Реализует связь между Логическими сущностями:
(А) Адрес, (В) клиент.
Мета атрибуты объекта AddressClient Логическая связь:

Мета атрибуты|Значения
:------------  | :------------
Сущность А|Address
Сущность В|Client

Мета атрибут «Множественность А» показывает сколько Адресов может быть у одного Клиента.
(А) Адрес -> (В) клиент.

Варианты значений «Множественность А»:

Значение|Описание
:------------  | :------------
0:1|У Клиента может быть только один Адрес или не быть вообще (отсутствовать)
2:2|У Клиента обязательно должно быть привязано два Адреса.
0:M|У Клиента может не быть Адреса, но больше M Адресов одному Клиенту привязывать нельзя
1:3|Клиент может иметь от одного до трех связанных Адресов. Например, домашний, рабочий, запасной. Обязателен хотя бы один Адрес
2:5|Клиент может иметь от двух до пяти связанных Адресов. Обязательно привязать минимум два адреса, например домашний и рабочий.

Аналогично определяется «Множественность В». Сколько Клиентов могут быть привязаны к одному Адресу.
(А) Адрес <- (В) клиент.

Варианты значений атрибута «Множественность В»:

Значение|Описание
:------------  | :------------
0:1|На Адресе может быть максимум один Клиент, или не быть Клиентов вообще (отсутствовать)
0:M|К Адресу можно привязать не больше M Клиентов. На Адресе может вообще не быть Клиентов.
1:1|К Адресу должен быть привязан только один Клиент. Отсутствие Клиентов на Адресе не допустимо
2:2|К Адресу обязательно привязывать двух Клиентов. Например семейный аккаунт и администратор.

«Тип Связи» также обязательное свойство», с одним из значений:

- ассоциация
- наследование
- зависимость

ВНИМАНИЕ: каждая Логическая сущность обязательно должна быть включена хотя бы в одну Логическую связь.

Сущность в DocHub: seaf.ia.logical_links

Мета атрибуты|Значения
:------------  | :------------
Код|{{code}}
Наименование|{{title}}
Статус|{{status}}
Описание|{{description}}
Сущность А|{{entity_a}}
Множественность A|{{multiplicity_a}}
Тип связи|{{link_type}}
Сущность В|{{entity_b}}
Множественность B|{{multiplicity_b}}
Направления связи|{{ visual_style}}

### Физическая модель данных (слой)

Физическая модель данных – описание технической реализации, включающее в себя структуры хранения данных, основанное на логической модели. Физическая модель данных разрабатывается с учётом конкретных технологий.
Обеспечивает связь с ПА на уровне Сервисов, через мета атрибут «Автоматизированная система», посредством ссылки на конкретную АС в ПА. При наличии компонентов АС описанных на прикладном уровне, рекомендуется указывать компонент БД данной АС, где физически находится таблица.
ФМД состоит из следующих сущностей:

- физическая таблица;
- физический атрибут.

## Физическая таблица (сущность)

Описывает конкретное представление данных в БД.
С помощью мета атрибутов указывается тип, количество строк и столбцов, размер в Мб.
Для конкретизации физического нахождения таблицы используется мета атрибут «Локационные атрибуты», который хранит в виде массива дополнительные параметры.

Сущность в DocHub: seaf.ia.physical_tables

Мета атрибуты|Значения
:------------  | :------------
Наименование|{{title}}
Статус|{{status}}
Тип представления|{{type}}
Описание|{{description}}
Автоматизированная система|{{system}}
СУБД|{{dbms}}
База данных|{{database}}
Схема|{{schema_name}}
Локационные атрибуты|array: [{{loc_attr}}]
Количество строк|{{rows_count}}
Количество столбцов|{{cols_count}}
Наличие персональных данных|{{pdn_flag}}
Наличие критических данных|{{cde_flag}}

### Физический атрибут (сущность)

Физический атрибут является дочерним объектом Физической таблицы. Описывает конкретный столбец (колонку) в физической таблице.
Родительский объект Физическая таблица указывается как ссылка в мета атрибуте «Физическая таблица».
Если Физический атрибут является связанным атрибутом, то для него заполняются мета атрибуты:

- Флаг FOREIGN KEY
- Связанная таблица (ссылка на связанный объект Физическая таблица)
- Ключ в связанной таблице (ссылка на связанный объект Атрибут физической таблицы)

Сущность в DocHub: seaf.ia.physical_attributes

Мета атрибуты|Значения
:------------  | :------------
Наименование|{{title}}
Статус|{{status}}
Тип атрибута|{{type}}
Описание|{{description}}
Ограничения|{{constraints}}
Наличие персональных данных|{{pdn_flag}}
Наличие критических данных|{{cde_flag}}
Флаг PRIMARY KEY|{{pk_flag}}
Флаг FOREIGN KEY|{{fk_flag}}
Физическая таблица|{{physical_table}}
Связанная таблица|{{linked_table}}
Ключ в связанной таблице|{{linked_key}}
